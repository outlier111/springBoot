<!-- NProgress -->
<link href="/plugin/nprogress/nprogress.css" rel="stylesheet">
<!-- iCheck -->
<link href="/plugin/iCheck/skins/flat/green.css" rel="stylesheet">
<!-- bootstrap-progressbar -->
<link href="/plugin/bootstrap-progressbar/css/bootstrap-progressbar-3.3.4.min.css" rel="stylesheet">
<!-- JQVMap -->
<link href="/plugin/jqvmap/dist/jqvmap.min.css" rel="stylesheet"/>
<!-- bootstrap-daterangepicker -->
<link href="/plugin/bootstrap-daterangepicker/daterangepicker.css" rel="stylesheet">

<!-- page content -->
<div class="right_col" role="main">
    <!-- top tiles -->
    <div class="row" style="display: inline-block;" >
        <div class="tile_count">
            <div class="col-md-2 col-sm-4  tile_stats_count">
                <span class="count_top"><i class="fa fa-user"></i> Total Users</span>
                <div class="count">2500</div>
                <span class="count_bottom"><i class="green">4% </i> From last Week</span>
            </div>
            <div class="col-md-2 col-sm-4  tile_stats_count">
                <span class="count_top"><i class="fa fa-clock-o"></i> Average Time</span>
                <div class="count">123.50</div>
                <span class="count_bottom"><i class="green"><i class="fa fa-sort-asc"></i>3% </i> From last Week</span>
            </div>
            <div class="col-md-2 col-sm-4  tile_stats_count">
                <span class="count_top"><i class="fa fa-user"></i> Total Males</span>
                <div class="count green">2,500</div>
                <span class="count_bottom"><i class="green"><i class="fa fa-sort-asc"></i>34% </i> From last Week</span>
            </div>
            <div class="col-md-2 col-sm-4  tile_stats_count">
                <span class="count_top"><i class="fa fa-user"></i> Total Females</span>
                <div class="count">4,567</div>
                <span class="count_bottom"><i class="red"><i class="fa fa-sort-desc"></i>12% </i> From last Week</span>
            </div>
            <div class="col-md-2 col-sm-4  tile_stats_count">
                <span class="count_top"><i class="fa fa-user"></i> Total Collections</span>
                <div class="count">2,315</div>
                <span class="count_bottom"><i class="green"><i class="fa fa-sort-asc"></i>34% </i> From last Week</span>
            </div>
            <div class="col-md-2 col-sm-4  tile_stats_count">
                <span class="count_top"><i class="fa fa-user"></i> Total Connections</span>
                <div class="count">7,325</div>
                <span class="count_bottom"><i class="green"><i class="fa fa-sort-asc"></i>34% </i> From last Week</span>
            </div>
        </div>
    </div>
    <!-- /top tiles -->

    <div class="row">
        <div class="col-md-12 col-sm-12 ">
            <div class="dashboard_graph">

                <div class="row x_title">
                    <div class="col-md-6">
                        <h3>GZBD Line Graph <small>Last seven days</small></h3>
                    </div>
                    <div class="col-md-6">
                        <div id="reportrange" class="pull-right" style="background: #fff; cursor: pointer; padding: 5px 10px; border: 1px solid #ccc">
                            <i class="glyphicon glyphicon-calendar fa fa-calendar"></i>
                            <span>December 30, 2014 - January 28, 2015</span> <b class="caret"></b>
                        </div>
                    </div>
                </div>

                <div class="col-md-9 col-sm-9 ">
                    <div id="chart_plot_01" class="demo-placeholder"></div>
                </div>
                <div class="col-md-3 col-sm-3  bg-white">
                    <div class="x_title">
                        <h2>Top Campaign Performance</h2>
                        <div class="clearfix"></div>
                    </div>

                    <div class="col-md-12 col-sm-12 ">
                        <div>
                            <p>Facebook Campaign</p>
                            <div class="">
                                <div class="progress progress_sm" style="width: 76%;">
                                    <div class="progress-bar bg-green" role="progressbar" data-transitiongoal="80"></div>
                                </div>
                            </div>
                        </div>
                        <div>
                            <p>Twitter Campaign</p>
                            <div class="">
                                <div class="progress progress_sm" style="width: 76%;">
                                    <div class="progress-bar bg-green" role="progressbar" data-transitiongoal="60"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-12 col-sm-12 ">
                        <div>
                            <p>Conventional Media</p>
                            <div class="">
                                <div class="progress progress_sm" style="width: 76%;">
                                    <div class="progress-bar bg-green" role="progressbar" data-transitiongoal="40"></div>
                                </div>
                            </div>
                        </div>
                        <div>
                            <p>Bill boards</p>
                            <div class="">
                                <div class="progress progress_sm" style="width: 76%;">
                                    <div class="progress-bar bg-green" role="progressbar" data-transitiongoal="50"></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="clearfix"></div>
            </div>
        </div>
    </div>
    <br />

</div>
<!-- /page content -->

<!-- FastClick -->
<script src="/plugin/fastclick/lib/fastclick.js"></script>
<!-- NProgress -->
<script src="/plugin/nprogress/nprogress.js"></script>
<!-- Chart.js -->
<script src="/plugin/Chart.js/dist/Chart.min.js"></script>
<!-- gauge.js -->
<script src="/plugin/gauge.js/dist/gauge.min.js"></script>
<!-- bootstrap-progressbar -->
<script src="/plugin/bootstrap-progressbar/bootstrap-progressbar.min.js"></script>
<!-- iCheck -->
<script src="/plugin/iCheck/icheck.min.js"></script>
<!-- Skycons -->
<script src="/plugin/skycons/skycons.js"></script>

<!-- Flot -->
<script src="/plugin/Flot/jquery.flot.js"></script>
<script src="/plugin/Flot/jquery.flot.pie.js"></script>
<script src="/plugin/Flot/jquery.flot.time.js"></script>
<script src="/plugin/Flot/jquery.flot.stack.js"></script>
<script src="/plugin/Flot/jquery.flot.resize.js"></script>
<!-- Flot plugins -->
<script src="/plugin/flot.orderbars/js/jquery.flot.orderBars.js"></script>
<script src="/plugin/flot-spline/js/jquery.flot.spline.min.js"></script>
<script src="/plugin/flot.curvedlines/curvedLines.js"></script>

<!-- DateJS -->
<script src="/plugin/DateJS/build/date.js"></script>
<!-- JQVMap -->
<script src="/plugin/jqvmap/dist/jquery.vmap.js"></script>
<script src="/plugin/jqvmap/dist/maps/jquery.vmap.world.js"></script>
<script src="/plugin/jqvmap/examples/js/jquery.vmap.sampledata.js"></script>
<!-- bootstrap-daterangepicker -->
<script src="/plugin/moment/min/moment.min.js"></script>
<script src="/plugin/bootstrap-daterangepicker/daterangepicker.js"></script>

<script type="text/javascript">
    $(document).ready(function() {
        initLineGraph();
    });
    function initLineGraph() {
        // 图轨数据示例
        // var trace_1 = \[\[new Date("2020-07-18"),43\],\[new Date("2020-07-19"),22\]\];
        // var trace_2 = \[\[new Date("2020-07-18"),43\],\[new Date("2020-07-19"),22\]\];
        // var traces = \[trace_1, trace_2\];
        var lineGraphSettings = {
            series : {
                lines : {
                    show : false,
                    fill : true
                },
                splines : {
                    show : true,
                    tension : 0.4,
                    lineWidth : 1,
                    fill : 0.4
                },
                points : {
                    radius : 0,
                    show : true
                },
                shadowSize : 2
            },
            grid : {
                verticalLines : true,
                hoverable : true,
                clickable : true,
                tickColor : "#d5d5d5",
                borderWidth : 1,
                color : '#fff'
            },
            colors : [ "rgba(38, 185, 154, 0.38)", "rgba(3, 88, 106, 0.38)", "rgba(255, 0, 0, 0.38)" ],
            xaxis : {
                tickColor : "rgba(51, 51, 51, 0.06)",
                mode : "time",
                tickSize : [ 1, "day" ],
                //tickLength: 10,
                axisLabel : "Date",
                axisLabelUseCanvas : true,
                axisLabelFontSizePixels : 12,
                axisLabelFontFamily : 'Verdana, Arial',
                axisLabelPadding : 10
            },
            yaxis : {
                ticks : 8,
                tickColor : "rgba(51, 51, 51, 0.06)",
            },
            tooltip : false
        };
        var gzbds = [];
        $.ajax({
            url : "/api/gzbds",
            type : "get",
            success : function (data) {
                var traceDiagnosis = [];
                var traceCure = [];
                var traceDeath = [];

                $.each(data, function(i, item) {
                    if (i < 7) {
                        var diagnosis = [];
                        diagnosis.push(new Date(data[i].date));
                        diagnosis.push(data[i].diagnosis);
                        traceDiagnosis.push(diagnosis);
                        var cure = [];
                        cure.push(new Date(data[i].date));
                        cure.push(data[i].cure);
                        traceCure.push(cure);
                        var death = [];
                        death.push(new Date(data[i].date));
                        death.push(data[i].death);
                        traceDeath.push(death);
                    }
                });

                // gzbds.push(traceDiagnosis);
                // gzbds.push(traceCure);
                // gzbds.push(traceDeath);
                gzbds.push({label:"<div style='color: #0b2e13'>确诊数</div>", data:traceDiagnosis, lines: {show: true}});
                gzbds.push({label:"<div style='color: #0b2e13'>治愈数</div>", data:traceCure, lines: {show: true}});
                gzbds.push({label:"<div style='color: #0b2e13'>死亡数</div>", data:traceDeath, lines: {show: true}});

                $.plot($("#chart_plot_01"), gzbds, lineGraphSettings);
            },
            error : function (data) {
                layer.msg(data.responseText, {icon: 0});
            }
        });
    }
</script>